{
  "swagger": "2.0",
  "info": {
    "title": "template.proto",
    "version": "version not set"
  },
  "tags": [
    {
      "name": "Base"
    },
    {
      "name": "AuthService"
    },
    {
      "name": "MataPelajaranService"
    },
    {
      "name": "MateriService"
    },
    {
      "name": "TingkatService"
    },
    {
      "name": "SoalService"
    },
    {
      "name": "TestSessionService"
    },
    {
      "name": "HistoryService"
    }
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/v1/admin/sessions": {
      "get": {
        "summary": "Admin queries",
        "operationId": "TestSessionService_ListTestSessions",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseListTestSessionsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "idTingkat",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "idMataPelajaran",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "type": "string",
            "enum": [
              "STATUS_INVALID",
              "ONGOING",
              "COMPLETED",
              "TIMEOUT"
            ],
            "default": "STATUS_INVALID"
          },
          {
            "name": "pagination.page",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "pagination.pageSize",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          }
        ],
        "tags": [
          "TestSessionService"
        ]
      }
    },
    "/v1/auth/login": {
      "post": {
        "operationId": "AuthService_Login",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseLoginResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/baseLoginRequest"
            }
          }
        ],
        "tags": [
          "AuthService"
        ]
      }
    },
    "/v1/auth/profile": {
      "get": {
        "operationId": "AuthService_GetProfile",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseUserResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "tags": [
          "AuthService"
        ]
      }
    },
    "/v1/auth/users": {
      "get": {
        "summary": "User Management (Admin Only)",
        "operationId": "AuthService_ListUsers",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseListUsersResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "role",
            "description": "Optional filter",
            "in": "query",
            "required": false,
            "type": "string",
            "enum": [
              "ROLE_INVALID",
              "SISWA",
              "ADMIN"
            ],
            "default": "ROLE_INVALID"
          },
          {
            "name": "statusFilter",
            "description": "0=all, 1=active only, 2=inactive only",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "pagination.page",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "pagination.pageSize",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          }
        ],
        "tags": [
          "AuthService"
        ]
      },
      "post": {
        "operationId": "AuthService_CreateUser",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseUserResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/baseCreateUserRequest"
            }
          }
        ],
        "tags": [
          "AuthService"
        ]
      }
    },
    "/v1/auth/users/{id}": {
      "get": {
        "operationId": "AuthService_GetUser",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseUserResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int32"
          }
        ],
        "tags": [
          "AuthService"
        ]
      },
      "delete": {
        "operationId": "AuthService_DeleteUser",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseMessageStatusResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int32"
          }
        ],
        "tags": [
          "AuthService"
        ]
      },
      "put": {
        "operationId": "AuthService_UpdateUser",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseUserResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/AuthServiceUpdateUserBody"
            }
          }
        ],
        "tags": [
          "AuthService"
        ]
      }
    },
    "/v1/health": {
      "get": {
        "operationId": "Base_HealthCheck",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseMessageStatusResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "tags": [
          "Base"
        ]
      }
    },
    "/v1/history": {
      "get": {
        "operationId": "HistoryService_GetStudentHistory",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseStudentHistoryResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "userId",
            "description": "From JWT, not input",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "tingkatan",
            "description": "Optional filter",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "idMataPelajaran",
            "description": "Optional filter",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "pagination.page",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "pagination.pageSize",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          }
        ],
        "tags": [
          "HistoryService"
        ]
      }
    },
    "/v1/history/student": {
      "get": {
        "operationId": "HistoryService_GetStudentHistory2",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseStudentHistoryResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "userId",
            "description": "From JWT, not input",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "tingkatan",
            "description": "Optional filter",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "idMataPelajaran",
            "description": "Optional filter",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "pagination.page",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "pagination.pageSize",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          }
        ],
        "tags": [
          "HistoryService"
        ]
      }
    },
    "/v1/history/{sessionToken}/detail": {
      "get": {
        "operationId": "HistoryService_GetHistoryDetail",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseHistoryDetailResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "sessionToken",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "HistoryService"
        ]
      }
    },
    "/v1/levels": {
      "get": {
        "operationId": "TingkatService_ListTingkat2",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseListTingkatResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "tags": [
          "TingkatService"
        ]
      }
    },
    "/v1/mata-pelajaran": {
      "get": {
        "operationId": "MataPelajaranService_ListMataPelajaran",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseListMataPelajaranResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "tags": [
          "MataPelajaranService"
        ]
      },
      "post": {
        "operationId": "MataPelajaranService_CreateMataPelajaran",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseMataPelajaranResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/baseCreateMataPelajaranRequest"
            }
          }
        ],
        "tags": [
          "MataPelajaranService"
        ]
      }
    },
    "/v1/mata-pelajaran/{id}": {
      "get": {
        "operationId": "MataPelajaranService_GetMataPelajaran",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseMataPelajaranResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int32"
          }
        ],
        "tags": [
          "MataPelajaranService"
        ]
      },
      "delete": {
        "operationId": "MataPelajaranService_DeleteMataPelajaran",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseMessageStatusResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int32"
          }
        ],
        "tags": [
          "MataPelajaranService"
        ]
      },
      "put": {
        "operationId": "MataPelajaranService_UpdateMataPelajaran",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseMataPelajaranResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/MataPelajaranServiceUpdateMataPelajaranBody"
            }
          }
        ],
        "tags": [
          "MataPelajaranService"
        ]
      }
    },
    "/v1/materi": {
      "get": {
        "operationId": "MateriService_ListMateri",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseListMateriResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "idMataPelajaran",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "idTingkat",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "pagination.page",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "pagination.pageSize",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          }
        ],
        "tags": [
          "MateriService"
        ]
      },
      "post": {
        "operationId": "MateriService_CreateMateri",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseMateriResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/baseCreateMateriRequest"
            }
          }
        ],
        "tags": [
          "MateriService"
        ]
      }
    },
    "/v1/materi/{id}": {
      "get": {
        "operationId": "MateriService_GetMateri",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseMateriResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int32"
          }
        ],
        "tags": [
          "MateriService"
        ]
      },
      "delete": {
        "operationId": "MateriService_DeleteMateri",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseMessageStatusResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int32"
          }
        ],
        "tags": [
          "MateriService"
        ]
      },
      "put": {
        "operationId": "MateriService_UpdateMateri",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseMateriResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/MateriServiceUpdateMateriBody"
            }
          }
        ],
        "tags": [
          "MateriService"
        ]
      }
    },
    "/v1/question-counts": {
      "get": {
        "operationId": "SoalService_GetQuestionCountsByTopic",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseQuestionCountsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "tags": [
          "SoalService"
        ]
      }
    },
    "/v1/questions": {
      "get": {
        "operationId": "SoalService_ListSoal2",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseListSoalResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "idMateri",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "idTingkat",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "idMataPelajaran",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "pagination.page",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "pagination.pageSize",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          }
        ],
        "tags": [
          "SoalService"
        ]
      },
      "post": {
        "operationId": "SoalService_CreateSoal2",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseSoalResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/baseCreateSoalRequest"
            }
          }
        ],
        "tags": [
          "SoalService"
        ]
      }
    },
    "/v1/questions/images/{idGambar}": {
      "delete": {
        "operationId": "SoalService_DeleteImageFromSoal",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseMessageStatusResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "idGambar",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int32"
          }
        ],
        "tags": [
          "SoalService"
        ]
      },
      "put": {
        "operationId": "SoalService_UpdateImageInSoal",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseMessageStatusResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "idGambar",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/SoalServiceUpdateImageInSoalBody"
            }
          }
        ],
        "tags": [
          "SoalService"
        ]
      }
    },
    "/v1/questions/{idSoal}/images": {
      "post": {
        "operationId": "SoalService_UploadImageToSoal",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseUploadImageResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "idSoal",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/SoalServiceUploadImageToSoalBody"
            }
          }
        ],
        "tags": [
          "SoalService"
        ]
      }
    },
    "/v1/questions/{id}": {
      "get": {
        "operationId": "SoalService_GetSoal2",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseSoalResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int32"
          }
        ],
        "tags": [
          "SoalService"
        ]
      },
      "delete": {
        "operationId": "SoalService_DeleteSoal2",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseMessageStatusResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int32"
          }
        ],
        "tags": [
          "SoalService"
        ]
      },
      "put": {
        "operationId": "SoalService_UpdateSoal2",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseSoalResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/SoalServiceUpdateSoalBody"
            }
          }
        ],
        "tags": [
          "SoalService"
        ]
      }
    },
    "/v1/soal": {
      "get": {
        "operationId": "SoalService_ListSoal",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseListSoalResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "idMateri",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "idTingkat",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "idMataPelajaran",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "pagination.page",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "pagination.pageSize",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          }
        ],
        "tags": [
          "SoalService"
        ]
      },
      "post": {
        "operationId": "SoalService_CreateSoal",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseSoalResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/baseCreateSoalRequest"
            }
          }
        ],
        "tags": [
          "SoalService"
        ]
      }
    },
    "/v1/soal/{id}": {
      "get": {
        "operationId": "SoalService_GetSoal",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseSoalResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int32"
          }
        ],
        "tags": [
          "SoalService"
        ]
      },
      "delete": {
        "operationId": "SoalService_DeleteSoal",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseMessageStatusResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int32"
          }
        ],
        "tags": [
          "SoalService"
        ]
      },
      "put": {
        "operationId": "SoalService_UpdateSoal",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseSoalResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/SoalServiceUpdateSoalBody"
            }
          }
        ],
        "tags": [
          "SoalService"
        ]
      }
    },
    "/v1/subjects": {
      "get": {
        "operationId": "MataPelajaranService_ListMataPelajaran3",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseListMataPelajaranResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "tags": [
          "MataPelajaranService"
        ]
      }
    },
    "/v1/test-sessions": {
      "post": {
        "summary": "Session management",
        "operationId": "TestSessionService_CreateTestSession",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseTestSessionResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/baseCreateTestSessionRequest"
            }
          }
        ],
        "tags": [
          "TestSessionService"
        ]
      }
    },
    "/v1/test-sessions/{sessionToken}": {
      "get": {
        "operationId": "TestSessionService_GetTestSession",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseTestSessionResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "sessionToken",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "TestSessionService"
        ]
      }
    },
    "/v1/test-sessions/{sessionToken}/answers": {
      "post": {
        "operationId": "TestSessionService_SubmitAnswer",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseSubmitAnswerResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "sessionToken",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/TestSessionServiceSubmitAnswerBody"
            }
          }
        ],
        "tags": [
          "TestSessionService"
        ]
      }
    },
    "/v1/test-sessions/{sessionToken}/clear-answer": {
      "post": {
        "operationId": "TestSessionService_ClearAnswer",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseClearAnswerResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "sessionToken",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/TestSessionServiceClearAnswerBody"
            }
          }
        ],
        "tags": [
          "TestSessionService"
        ]
      }
    },
    "/v1/test-sessions/{sessionToken}/complete": {
      "post": {
        "operationId": "TestSessionService_CompleteSession",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseTestSessionResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "sessionToken",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/TestSessionServiceCompleteSessionBody"
            }
          }
        ],
        "tags": [
          "TestSessionService"
        ]
      }
    },
    "/v1/test-sessions/{sessionToken}/questions": {
      "get": {
        "summary": "Test execution (NEW - critical!)",
        "operationId": "TestSessionService_GetTestQuestions",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseTestQuestionsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "sessionToken",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "nomorUrut",
            "description": "Question number to fetch (1-20, etc.)",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          }
        ],
        "tags": [
          "TestSessionService"
        ]
      }
    },
    "/v1/test-sessions/{sessionToken}/result": {
      "get": {
        "summary": "Results \u0026 review",
        "operationId": "TestSessionService_GetTestResult",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseTestResultResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "sessionToken",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "TestSessionService"
        ]
      }
    },
    "/v1/tingkat": {
      "get": {
        "operationId": "TingkatService_ListTingkat",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseListTingkatResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "tags": [
          "TingkatService"
        ]
      },
      "post": {
        "operationId": "TingkatService_CreateTingkat",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseTingkatResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/baseCreateTingkatRequest"
            }
          }
        ],
        "tags": [
          "TingkatService"
        ]
      }
    },
    "/v1/tingkat/{id}": {
      "get": {
        "operationId": "TingkatService_GetTingkat",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseTingkatResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int32"
          }
        ],
        "tags": [
          "TingkatService"
        ]
      },
      "delete": {
        "operationId": "TingkatService_DeleteTingkat",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseMessageStatusResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int32"
          }
        ],
        "tags": [
          "TingkatService"
        ]
      },
      "put": {
        "operationId": "TingkatService_UpdateTingkat",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseTingkatResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/TingkatServiceUpdateTingkatBody"
            }
          }
        ],
        "tags": [
          "TingkatService"
        ]
      }
    },
    "/v1/topics": {
      "get": {
        "operationId": "MataPelajaranService_ListMataPelajaran2",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/baseListMataPelajaranResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "tags": [
          "MataPelajaranService"
        ]
      }
    }
  },
  "definitions": {
    "AuthServiceUpdateUserBody": {
      "type": "object",
      "properties": {
        "email": {
          "type": "string"
        },
        "nama": {
          "type": "string"
        },
        "role": {
          "$ref": "#/definitions/baseUserRole"
        },
        "isActive": {
          "type": "boolean"
        }
      }
    },
    "MataPelajaranServiceUpdateMataPelajaranBody": {
      "type": "object",
      "properties": {
        "nama": {
          "type": "string"
        }
      }
    },
    "MateriServiceUpdateMateriBody": {
      "type": "object",
      "properties": {
        "idMataPelajaran": {
          "type": "integer",
          "format": "int32"
        },
        "idTingkat": {
          "type": "integer",
          "format": "int32"
        },
        "nama": {
          "type": "string"
        },
        "isActive": {
          "type": "boolean"
        },
        "defaultDurasiMenit": {
          "type": "integer",
          "format": "int32"
        },
        "defaultJumlahSoal": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "SoalServiceUpdateImageInSoalBody": {
      "type": "object",
      "properties": {
        "urutan": {
          "type": "integer",
          "format": "int32"
        },
        "keterangan": {
          "type": "string"
        }
      }
    },
    "SoalServiceUpdateSoalBody": {
      "type": "object",
      "properties": {
        "idMateri": {
          "type": "integer",
          "format": "int32"
        },
        "idTingkat": {
          "type": "integer",
          "format": "int32"
        },
        "pertanyaan": {
          "type": "string"
        },
        "opsiA": {
          "type": "string"
        },
        "opsiB": {
          "type": "string"
        },
        "opsiC": {
          "type": "string"
        },
        "opsiD": {
          "type": "string"
        },
        "jawabanBenar": {
          "$ref": "#/definitions/baseJawabanOption"
        },
        "pembahasan": {
          "type": "string"
        },
        "imageBytes": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "byte"
          }
        }
      }
    },
    "SoalServiceUploadImageToSoalBody": {
      "type": "object",
      "properties": {
        "imageBytes": {
          "type": "string",
          "format": "byte"
        },
        "namaFile": {
          "type": "string"
        },
        "urutan": {
          "type": "integer",
          "format": "int32"
        },
        "keterangan": {
          "type": "string"
        }
      }
    },
    "TestSessionServiceClearAnswerBody": {
      "type": "object",
      "properties": {
        "nomorUrut": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "TestSessionServiceCompleteSessionBody": {
      "type": "object"
    },
    "TestSessionServiceSubmitAnswerBody": {
      "type": "object",
      "properties": {
        "nomorUrut": {
          "type": "integer",
          "format": "int32"
        },
        "jawabanDipilih": {
          "$ref": "#/definitions/baseJawabanOption"
        }
      }
    },
    "TingkatServiceUpdateTingkatBody": {
      "type": "object",
      "properties": {
        "nama": {
          "type": "string"
        }
      }
    },
    "baseClearAnswerResponse": {
      "type": "object",
      "properties": {
        "sessionToken": {
          "type": "string"
        },
        "nomorUrut": {
          "type": "integer",
          "format": "int32"
        },
        "dibatalkanPada": {
          "type": "string",
          "format": "date-time"
        }
      }
    },
    "baseCreateMataPelajaranRequest": {
      "type": "object",
      "properties": {
        "nama": {
          "type": "string"
        }
      }
    },
    "baseCreateMateriRequest": {
      "type": "object",
      "properties": {
        "idMataPelajaran": {
          "type": "integer",
          "format": "int32"
        },
        "idTingkat": {
          "type": "integer",
          "format": "int32"
        },
        "nama": {
          "type": "string"
        },
        "isActive": {
          "type": "boolean"
        },
        "defaultDurasiMenit": {
          "type": "integer",
          "format": "int32"
        },
        "defaultJumlahSoal": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "baseCreateSoalRequest": {
      "type": "object",
      "properties": {
        "idMateri": {
          "type": "integer",
          "format": "int32"
        },
        "idTingkat": {
          "type": "integer",
          "format": "int32"
        },
        "pertanyaan": {
          "type": "string"
        },
        "opsiA": {
          "type": "string"
        },
        "opsiB": {
          "type": "string"
        },
        "opsiC": {
          "type": "string"
        },
        "opsiD": {
          "type": "string"
        },
        "jawabanBenar": {
          "$ref": "#/definitions/baseJawabanOption"
        },
        "pembahasan": {
          "type": "string"
        },
        "imageBytes": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "byte"
          }
        }
      }
    },
    "baseCreateTestSessionRequest": {
      "type": "object",
      "properties": {
        "idTingkat": {
          "type": "integer",
          "format": "int32"
        },
        "idMataPelajaran": {
          "type": "integer",
          "format": "int32"
        },
        "durasiMenit": {
          "type": "integer",
          "format": "int32"
        },
        "jumlahSoal": {
          "type": "integer",
          "format": "int32",
          "title": "ADDED - critical!"
        }
      }
    },
    "baseCreateTingkatRequest": {
      "type": "object",
      "properties": {
        "nama": {
          "type": "string"
        }
      }
    },
    "baseCreateUserRequest": {
      "type": "object",
      "properties": {
        "email": {
          "type": "string"
        },
        "password": {
          "type": "string"
        },
        "nama": {
          "type": "string"
        },
        "role": {
          "$ref": "#/definitions/baseUserRole"
        }
      }
    },
    "baseHistoryDetailResponse": {
      "type": "object",
      "properties": {
        "sessionInfo": {
          "$ref": "#/definitions/baseTestSession"
        },
        "detailJawaban": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/baseJawabanDetail"
          }
        },
        "breakdownMateri": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/baseMateriBreakdown"
          },
          "title": "Breakdown per materi"
        }
      }
    },
    "baseHistorySummary": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int32"
        },
        "sessionToken": {
          "type": "string"
        },
        "mataPelajaran": {
          "$ref": "#/definitions/baseMataPelajaran"
        },
        "tingkat": {
          "$ref": "#/definitions/baseTingkat"
        },
        "waktuMulai": {
          "type": "string",
          "format": "date-time"
        },
        "waktuSelesai": {
          "type": "string",
          "format": "date-time"
        },
        "durasiPengerjaanDetik": {
          "type": "integer",
          "format": "int32",
          "title": "Actual time spent"
        },
        "nilaiAkhir": {
          "type": "number",
          "format": "double"
        },
        "jumlahBenar": {
          "type": "integer",
          "format": "int32"
        },
        "totalSoal": {
          "type": "integer",
          "format": "int32"
        },
        "status": {
          "$ref": "#/definitions/baseTestStatus"
        },
        "namaPeserta": {
          "type": "string"
        }
      }
    },
    "baseJawabanDetail": {
      "type": "object",
      "properties": {
        "nomorUrut": {
          "type": "integer",
          "format": "int32"
        },
        "pertanyaan": {
          "type": "string"
        },
        "opsiA": {
          "type": "string"
        },
        "opsiB": {
          "type": "string"
        },
        "opsiC": {
          "type": "string"
        },
        "opsiD": {
          "type": "string"
        },
        "jawabanDipilih": {
          "$ref": "#/definitions/baseJawabanOption"
        },
        "jawabanBenar": {
          "$ref": "#/definitions/baseJawabanOption"
        },
        "isCorrect": {
          "type": "boolean"
        },
        "isAnswered": {
          "type": "boolean"
        },
        "pembahasan": {
          "type": "string"
        },
        "gambar": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/baseSoalGambar"
          }
        }
      }
    },
    "baseJawabanOption": {
      "type": "string",
      "enum": [
        "JAWABAN_INVALID",
        "A",
        "B",
        "C",
        "D"
      ],
      "default": "JAWABAN_INVALID"
    },
    "baseListMataPelajaranResponse": {
      "type": "object",
      "properties": {
        "mataPelajaran": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/baseMataPelajaran"
          }
        }
      }
    },
    "baseListMateriResponse": {
      "type": "object",
      "properties": {
        "materi": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/baseMateri"
          }
        },
        "pagination": {
          "$ref": "#/definitions/basePaginationResponse"
        }
      }
    },
    "baseListSoalResponse": {
      "type": "object",
      "properties": {
        "soal": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/baseSoalFull"
          }
        },
        "pagination": {
          "$ref": "#/definitions/basePaginationResponse"
        }
      }
    },
    "baseListTestSessionsResponse": {
      "type": "object",
      "properties": {
        "testSessions": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/baseTestSession"
          }
        },
        "pagination": {
          "$ref": "#/definitions/basePaginationResponse"
        }
      }
    },
    "baseListTingkatResponse": {
      "type": "object",
      "properties": {
        "tingkat": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/baseTingkat"
          }
        }
      }
    },
    "baseListUsersResponse": {
      "type": "object",
      "properties": {
        "users": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/baseUser"
          }
        },
        "pagination": {
          "$ref": "#/definitions/basePaginationResponse"
        },
        "success": {
          "type": "boolean"
        },
        "message": {
          "type": "string"
        },
        "total": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "baseLoginRequest": {
      "type": "object",
      "properties": {
        "email": {
          "type": "string"
        },
        "password": {
          "type": "string"
        }
      }
    },
    "baseLoginResponse": {
      "type": "object",
      "properties": {
        "token": {
          "type": "string"
        },
        "refreshToken": {
          "type": "string"
        },
        "user": {
          "$ref": "#/definitions/baseUser"
        },
        "expiresAt": {
          "type": "string",
          "format": "date-time"
        },
        "success": {
          "type": "boolean"
        },
        "message": {
          "type": "string"
        }
      }
    },
    "baseMataPelajaran": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int32"
        },
        "nama": {
          "type": "string"
        }
      }
    },
    "baseMataPelajaranResponse": {
      "type": "object",
      "properties": {
        "mataPelajaran": {
          "$ref": "#/definitions/baseMataPelajaran"
        }
      }
    },
    "baseMateri": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int32"
        },
        "mataPelajaran": {
          "$ref": "#/definitions/baseMataPelajaran",
          "title": "Nested, bukan hanya ID"
        },
        "tingkat": {
          "$ref": "#/definitions/baseTingkat"
        },
        "nama": {
          "type": "string"
        },
        "isActive": {
          "type": "boolean"
        },
        "defaultDurasiMenit": {
          "type": "integer",
          "format": "int32"
        },
        "defaultJumlahSoal": {
          "type": "integer",
          "format": "int32"
        },
        "jumlahSoalReal": {
          "type": "integer",
          "format": "int32",
          "title": "Actual question count from database"
        }
      }
    },
    "baseMateriBreakdown": {
      "type": "object",
      "properties": {
        "namaMateri": {
          "type": "string"
        },
        "jumlahSoal": {
          "type": "integer",
          "format": "int32"
        },
        "jumlahBenar": {
          "type": "integer",
          "format": "int32"
        },
        "persentaseBenar": {
          "type": "number",
          "format": "double"
        }
      }
    },
    "baseMateriResponse": {
      "type": "object",
      "properties": {
        "materi": {
          "$ref": "#/definitions/baseMateri"
        }
      }
    },
    "baseMessageStatusResponse": {
      "type": "object",
      "properties": {
        "message": {
          "type": "string"
        },
        "status": {
          "type": "string"
        }
      }
    },
    "basePaginationRequest": {
      "type": "object",
      "properties": {
        "page": {
          "type": "integer",
          "format": "int32"
        },
        "pageSize": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "basePaginationResponse": {
      "type": "object",
      "properties": {
        "totalCount": {
          "type": "integer",
          "format": "int32"
        },
        "totalPages": {
          "type": "integer",
          "format": "int32"
        },
        "currentPage": {
          "type": "integer",
          "format": "int32"
        },
        "pageSize": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "baseQuestionCountsResponse": {
      "type": "object",
      "properties": {
        "counts": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/baseTopicCount"
          }
        }
      }
    },
    "baseRefreshTokenResponse": {
      "type": "object",
      "properties": {
        "token": {
          "type": "string"
        },
        "refreshToken": {
          "type": "string"
        },
        "expiresAt": {
          "type": "string",
          "format": "date-time"
        },
        "success": {
          "type": "boolean"
        },
        "message": {
          "type": "string"
        }
      }
    },
    "baseSoalForStudent": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int32"
        },
        "nomorUrut": {
          "type": "integer",
          "format": "int32",
          "title": "Question number in test"
        },
        "pertanyaan": {
          "type": "string"
        },
        "opsiA": {
          "type": "string"
        },
        "opsiB": {
          "type": "string"
        },
        "opsiC": {
          "type": "string"
        },
        "opsiD": {
          "type": "string"
        },
        "jawabanDipilih": {
          "$ref": "#/definitions/baseJawabanOption",
          "title": "If already answered"
        },
        "isAnswered": {
          "type": "boolean"
        },
        "materi": {
          "$ref": "#/definitions/baseMateri"
        },
        "gambar": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/baseSoalGambar"
          }
        }
      },
      "title": "Soal for student (no answer exposed)"
    },
    "baseSoalFull": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int32"
        },
        "materi": {
          "$ref": "#/definitions/baseMateri"
        },
        "pertanyaan": {
          "type": "string"
        },
        "opsiA": {
          "type": "string"
        },
        "opsiB": {
          "type": "string"
        },
        "opsiC": {
          "type": "string"
        },
        "opsiD": {
          "type": "string"
        },
        "jawabanBenar": {
          "$ref": "#/definitions/baseJawabanOption"
        },
        "pembahasan": {
          "type": "string"
        },
        "gambar": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/baseSoalGambar"
          }
        }
      },
      "title": "Full soal with answer (for admin/teacher only)"
    },
    "baseSoalGambar": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int32"
        },
        "namaFile": {
          "type": "string"
        },
        "filePath": {
          "type": "string"
        },
        "fileSize": {
          "type": "integer",
          "format": "int32"
        },
        "mimeType": {
          "type": "string"
        },
        "urutan": {
          "type": "integer",
          "format": "int32"
        },
        "keterangan": {
          "type": "string"
        },
        "cloudId": {
          "type": "string"
        },
        "publicId": {
          "type": "string"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time"
        }
      },
      "title": "Image metadata for soal"
    },
    "baseSoalResponse": {
      "type": "object",
      "properties": {
        "soal": {
          "$ref": "#/definitions/baseSoalFull"
        }
      }
    },
    "baseStudentHistoryResponse": {
      "type": "object",
      "properties": {
        "history": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/baseHistorySummary"
          }
        },
        "pagination": {
          "$ref": "#/definitions/basePaginationResponse"
        },
        "rataRataNilai": {
          "type": "number",
          "format": "double",
          "title": "Aggregate stats"
        },
        "totalTestCompleted": {
          "type": "integer",
          "format": "int32"
        },
        "user": {
          "$ref": "#/definitions/baseUser"
        },
        "tingkatan": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "baseSubmitAnswerResponse": {
      "type": "object",
      "properties": {
        "sessionToken": {
          "type": "string"
        },
        "nomorUrut": {
          "type": "integer",
          "format": "int32"
        },
        "jawabanDipilih": {
          "$ref": "#/definitions/baseJawabanOption"
        },
        "isCorrect": {
          "type": "boolean",
          "title": "Immediate feedback"
        },
        "dijawabPada": {
          "type": "string",
          "format": "date-time"
        }
      }
    },
    "baseTestQuestionsResponse": {
      "type": "object",
      "properties": {
        "sessionToken": {
          "type": "string"
        },
        "soal": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/baseSoalForStudent"
          },
          "title": "ALL questions for the session"
        },
        "totalSoal": {
          "type": "integer",
          "format": "int32"
        },
        "currentNomorUrut": {
          "type": "integer",
          "format": "int32"
        },
        "dijawabCount": {
          "type": "integer",
          "format": "int32"
        },
        "isAnsweredStatus": {
          "type": "array",
          "items": {
            "type": "boolean"
          },
          "title": "Bool array for all questions (sidebar status)"
        },
        "batasWaktu": {
          "type": "string",
          "format": "date-time"
        }
      }
    },
    "baseTestResultResponse": {
      "type": "object",
      "properties": {
        "sessionInfo": {
          "$ref": "#/definitions/baseTestSession"
        },
        "detailJawaban": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/baseJawabanDetail"
          }
        },
        "tingkat": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/baseTingkat"
          }
        }
      }
    },
    "baseTestSession": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int32"
        },
        "sessionToken": {
          "type": "string"
        },
        "user": {
          "$ref": "#/definitions/baseUser",
          "title": "From JWT, not input"
        },
        "namaPeserta": {
          "type": "string",
          "title": "Participant's name"
        },
        "tingkat": {
          "$ref": "#/definitions/baseTingkat"
        },
        "mataPelajaran": {
          "$ref": "#/definitions/baseMataPelajaran",
          "title": "Nested object"
        },
        "waktuMulai": {
          "type": "string",
          "format": "date-time"
        },
        "waktuSelesai": {
          "type": "string",
          "format": "date-time"
        },
        "batasWaktu": {
          "type": "string",
          "format": "date-time",
          "title": "ADDED"
        },
        "durasiMenit": {
          "type": "integer",
          "format": "int32"
        },
        "nilaiAkhir": {
          "type": "number",
          "format": "double"
        },
        "jumlahBenar": {
          "type": "integer",
          "format": "int32"
        },
        "totalSoal": {
          "type": "integer",
          "format": "int32"
        },
        "status": {
          "$ref": "#/definitions/baseTestStatus"
        }
      }
    },
    "baseTestSessionResponse": {
      "type": "object",
      "properties": {
        "testSession": {
          "$ref": "#/definitions/baseTestSession"
        }
      }
    },
    "baseTestStatus": {
      "type": "string",
      "enum": [
        "STATUS_INVALID",
        "ONGOING",
        "COMPLETED",
        "TIMEOUT"
      ],
      "default": "STATUS_INVALID"
    },
    "baseTingkat": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int32"
        },
        "nama": {
          "type": "string"
        }
      }
    },
    "baseTingkatResponse": {
      "type": "object",
      "properties": {
        "tingkat": {
          "$ref": "#/definitions/baseTingkat"
        }
      }
    },
    "baseTopicCount": {
      "type": "object",
      "properties": {
        "topicId": {
          "type": "integer",
          "format": "int32"
        },
        "count": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "baseUploadImageResponse": {
      "type": "object",
      "properties": {
        "gambar": {
          "$ref": "#/definitions/baseSoalGambar"
        }
      }
    },
    "baseUser": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int32"
        },
        "email": {
          "type": "string"
        },
        "nama": {
          "type": "string"
        },
        "role": {
          "$ref": "#/definitions/baseUserRole"
        },
        "isActive": {
          "type": "boolean"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time"
        },
        "updatedAt": {
          "type": "string",
          "format": "date-time"
        },
        "passwordHash": {
          "type": "string"
        }
      }
    },
    "baseUserResponse": {
      "type": "object",
      "properties": {
        "user": {
          "$ref": "#/definitions/baseUser"
        },
        "success": {
          "type": "boolean"
        },
        "message": {
          "type": "string"
        }
      }
    },
    "baseUserRole": {
      "type": "string",
      "enum": [
        "ROLE_INVALID",
        "SISWA",
        "ADMIN"
      ],
      "default": "ROLE_INVALID"
    },
    "protobufAny": {
      "type": "object",
      "properties": {
        "@type": {
          "type": "string"
        }
      },
      "additionalProperties": {}
    },
    "rpcStatus": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/protobufAny"
          }
        }
      }
    }
  }
}
